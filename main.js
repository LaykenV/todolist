(()=>{"use strict";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};t.d({},{OU:()=>r,hp:()=>d,wq:()=>s});const e=function(t){const e=document.querySelector(".tasklist");console.log(t);for(let o=0;o<t.length;o++)""==!document.querySelector(".tasklist").innerHTML&&e.removeChild(e.lastChild);for(let o=0;o<t.length;o++){const n=t[o],l=document.createElement("div");l.classList.add("task"),l.setAttribute("data-index",o);const s=document.createElement("button");s.classList.add("taskbutton");const c=document.createElement("p");c.classList.add("taskdesc"),c.textContent=`${n.title}`;const d=document.createElement("p");d.classList.add("taskdate"),d.textContent=`${n.dueDate}`,e.appendChild(l),l.appendChild(s),l.appendChild(c),l.appendChild(d),console.log("works"),"lowpriority"==`${n.priority}`?l.style.border="solid yellow 2px":"highpriority"==`${n.priority}`&&(l.style.border="solid red 2px")}};let o=0;function n(t,e,n,l){this.title=t,this.description=e,this.dueDate=n,this.priority=l,this.id=o,o++}function l(t,e=[]){this.title=t,this.projectTasks=e}console.log("h");let s=[],c=[];function d(t){localStorage.setItem("Tasks",JSON.stringify(t))}function r(t){localStorage.setItem("Projects",JSON.stringify(t))}!function(){if(s=JSON.parse(localStorage.getItem("Tasks")),null!=s)return e(s),s=JSON.parse(localStorage.getItem("Tasks"));s=[]}(),function(){if(c=JSON.parse(localStorage.getItem("Projects")),null!=c)return function(t){document.querySelector(".projectselector");for(let e=0;e<t.length;e++){const o=t[e],n=document.createElement("div");n.classList.add("projectlistitem"),n.setAttribute("data-index",e);const l=document.createElement("p");l.classList.add("projectlistitemtext"),l.textContent=o.title;const s=document.createElement("button");s.classList.add("projectdelbtn"),s.textContent="X",document.querySelector(".projectselector").appendChild(n),n.appendChild(l),n.appendChild(s)}}(c),c=JSON.parse(localStorage.getItem("Projects"));c=[]}(),function(){const t=document.querySelector(".dropbutton"),e=document.querySelector(".dropdown");console.log("works"),e.classList.add("gone"),t.addEventListener("click",(function(){e.classList.toggle("gone")}))}(),function(t){const e=document.querySelector("#addtask"),o=document.querySelector("#taskname"),l=document.querySelector("#description"),s=document.querySelector("#duedate"),c=document.querySelector("#submit"),r=document.querySelector(".taskpopup");r.classList.add("gone"),e.addEventListener("click",(function(){r.classList.remove("gone")})),c.addEventListener("click",(function(){let e=o.value,c=l.value,i=s.value,a=document.querySelector('input[name="priority"]:checked').value;console.log(a);const u=new n(e,c,i,a);console.log(u),r.classList.add("gone"),t.push(u),console.log(t),function(t,e){const o=document.querySelector(".tasklist"),n=document.createElement("div");n.classList.add("task"),n.setAttribute("data-index",e.length-1);const l=document.createElement("button");l.classList.add("taskbutton");const s=document.createElement("p");s.classList.add("taskdesc"),s.textContent=`${t.title}`;const c=document.createElement("p");c.classList.add("taskdate"),c.textContent=`${t.dueDate}`,o.appendChild(n),n.appendChild(l),n.appendChild(s),n.appendChild(c),"lowpriority"==`${t.priority}`?n.style.border="solid yellow 2px":"highpriority"==`${t.priority}`&&(n.style.border="solid red 2px")}(u,t),d(t)}))}(s),function(t){const e=document.querySelector("#addproject"),o=document.querySelector("#projectname"),n=document.querySelector("#addprojectform"),c=document.querySelector("#projectsubmit"),d=document.querySelector("#projectcancel");n.classList.add("gone"),e.addEventListener("click",(function(){n.classList.remove("gone"),e.classList.add("gone")})),d.addEventListener("click",(function(){n.classList.add("gone"),e.classList.remove("gone")})),c.addEventListener("click",(function(){const c=new l(o.value);console.log(c),e.classList.remove("gone"),n.classList.add("gone"),function(t,e){const o=document.createElement("div");o.classList.add("projectlistitem"),o.setAttribute("data-index",e.length-1);const n=document.createElement("p");n.classList.add("projectlistitemtext"),n.textContent=`${t.title}`;const l=document.createElement("button");l.classList.add("projectdelbtn"),l.textContent="X",document.querySelector(".projectselector").appendChild(o),o.appendChild(n),o.appendChild(l)}(c,t),t.push(c),console.log(t),function(t){let e=document.querySelectorAll(".projectlistitemtext");const o=document.querySelector(".tasklist");document.querySelectorAll(".projectlistitem"),document.querySelectorAll(".projectlistitem");for(let n=0;n<e.length;n++)console.log(e[n]),e[n].addEventListener("click",(function(){const l=e[n].textContent;console.log(l);for(let e=0;e<t.length;e++)""==!document.querySelector(".tasklist").innerHTML&&o.removeChild(o.lastChild);for(let e=0;e<t.length;e++){const o=t[e];if(o.description==l){const t=document.querySelector(".tasklist"),n=document.createElement("div");n.classList.add("task"),n.setAttribute("data-index",e);const l=document.createElement("button");l.classList.add("taskbutton");const s=document.createElement("p");s.classList.add("taskdesc"),s.textContent=`${o.title}`;const c=document.createElement("p");c.classList.add("taskdate"),c.textContent=`${o.dueDate}`,t.appendChild(n),n.appendChild(l),n.appendChild(s),n.appendChild(c),console.log("works"),"lowpriority"==`${o.priority}`?n.style.border="solid yellow 2px":"highpriority"==`${o.priority}`&&(n.style.border="solid red 2px")}}}))}(s),r(t)}))}(c),document.querySelector("#alldates").addEventListener("click",(function(){e(s)})),document.querySelector("#todaydate").addEventListener("click",(function(){!function(t){let e=new Date,o=e.getDate(),n=(e.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=`${e.getFullYear()}-${n}-${o}`;const s=document.querySelector(".tasklist");console.log("todaystasksworking"),console.log(t);for(let e=0;e<t.length;e++)""==!document.querySelector(".tasklist").innerHTML&&s.removeChild(s.lastChild);for(let e=0;e<t.length;e++){const o=t[e];if(console.log("working"),console.log(o.dueDate),console.log(l),o.dueDate==l){const t=document.createElement("div");t.classList.add("task"),t.setAttribute("data-index",e);const n=document.createElement("button");n.classList.add("taskbutton");const l=document.createElement("p");l.classList.add("taskdesc"),l.textContent=`${o.title}`;const c=document.createElement("p");c.classList.add("taskdate"),c.textContent=`${o.dueDate}`,s.appendChild(t),t.appendChild(n),t.appendChild(l),t.appendChild(c),console.log("works"),"lowpriority"==`${o.priority}`?t.style.border="solid yellow 2px":"highpriority"==`${o.priority}`&&(t.style.border="solid red 2px")}}}(s)})),document.addEventListener("click",(t=>{!function(t,e){if("taskbutton"===t.target.className){const o=t.target.parentElement.getAttribute("data-index");console.log(o),e.splice(o,1),t.target.parentElement.parentElement.removeChild(t.target.parentElement),console.log(e),d(e)}}(t,s)})),document.addEventListener("click",(t=>{!function(t,e){if("projectdelbtn"===t.target.className){const o=t.target.parentElement.getAttribute("data-index");console.log(o),e.splice(o,1),t.target.parentElement.parentElement.removeChild(t.target.parentElement),console.log(e),r(e)}}(t,s)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUMsT0FBUyxtQkFFUSxnQkFBekIsR0FBR2YsRUFBUWEsYUFDaEJaLEVBQU9hLE1BQU1DLE9BQVMsbUJFeElsQ21FLENBQVkzRCxNQUdoQmhDLFNBQVNpRCxpQkFBaUIsU0FBVTJDLEtGa01wQyxTQUFvQkEsRUFBTzlGLEdBQ3ZCLEdBQStCLGVBQTNCOEYsRUFBTUMsT0FBT0MsVUFBNEIsQ0FDekMsTUFBTUMsRUFBUUgsRUFBTUMsT0FBT0csY0FBY0MsYUFBYSxjQUN0RC9GLFFBQVFDLElBQUk0RixHQUNaakcsRUFBSW9HLE9BQU9ILEVBQU8sR0FDbEJILEVBQU1DLE9BQU9HLGNBQWNBLGNBQWN6RixZQUFZcUYsRUFBTUMsT0FBT0csZUFDbEU5RixRQUFRQyxJQUFJTCxHQUNab0MsRUFBY3BDLElFeE1sQnFHLENBQVdQLEVBQU81RCxNQUd0QmhDLFNBQVNpRCxpQkFBaUIsU0FBVTJDLEtGeU1wQyxTQUF1QkEsRUFBTzlGLEdBQzFCLEdBQStCLGtCQUEzQjhGLEVBQU1DLE9BQU9DLFVBQStCLENBQzVDLE1BQU1DLEVBQVFILEVBQU1DLE9BQU9HLGNBQWNDLGFBQWEsY0FDdEQvRixRQUFRQyxJQUFJNEYsR0FDWmpHLEVBQUlvRyxPQUFPSCxFQUFPLEdBQ2xCSCxFQUFNQyxPQUFPRyxjQUFjQSxjQUFjekYsWUFBWXFGLEVBQU1DLE9BQU9HLGVBQ2xFOUYsUUFBUUMsSUFBSUwsR0FDWnlDLEVBQWlCekMsSUUvTXJCc0csQ0FBY1IsRUFBTzVELE8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9tb2R1bGVzL2RvbS5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9tb2R1bGVzL2ZhY3Rvcmllcy5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9tb2R1bGVzL3RvZG8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgeyB0YXNrfSBmcm9tIFwiLi9mYWN0b3JpZXNcIjtcbmltcG9ydCB7IHNldExvY2FsUHJvamVjdHMsIHNldExvY2FsVGFza3MgfSBmcm9tIFwiLi4vaW5kZXhcIjtcblxuY29uc3QgZHJvcE1lbnUgPSBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBkcm9wRG93bkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZHJvcGJ1dHRvblwiKTtcbiAgICBjb25zdCBkcm9wRG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZHJvcGRvd25cIik7XG4gICAgY29uc29sZS5sb2coXCJ3b3Jrc1wiKTtcbiAgICBkcm9wRG93bi5jbGFzc0xpc3QuYWRkKFwiZ29uZVwiKTtcbiAgICBkcm9wRG93bkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgZHJvcERvd24uY2xhc3NMaXN0LnRvZ2dsZShcImdvbmVcIik7XG4gICAgfSk7XG59XG5cbmNvbnN0IHNob3dQcm9qZWN0cyA9IGZ1bmN0aW9uKHByb2plY3QsIGFycikge1xuICAgIGNvbnN0IG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmV3RGl2LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0bGlzdGl0ZW1cIik7XG4gICAgbmV3RGl2LnNldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIiwgKGFyci5sZW5ndGggLSAxKSk7XG4gICAgY29uc3QgbmV3RGl2VGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIG5ld0RpdlRleHQuY2xhc3NMaXN0LmFkZChcInByb2plY3RsaXN0aXRlbXRleHRcIik7XG4gICAgbmV3RGl2VGV4dC50ZXh0Q29udGVudCA9IGAke3Byb2plY3QudGl0bGV9YDtcbiAgICBjb25zdCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGRlbEJ0bi5jbGFzc0xpc3QuYWRkKFwicHJvamVjdGRlbGJ0blwiKTtcbiAgICBkZWxCdG4udGV4dENvbnRlbnQgPSBcIlhcIjtcbiAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNlbGVjdG9yXCIpO1xuICAgIHByb2plY3RMaXN0LmFwcGVuZENoaWxkKG5ld0Rpdik7XG4gICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld0RpdlRleHQpO1xuICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChkZWxCdG4pO1xufVxuXG5jb25zdCBhbGxQcm9qZWN0cyA9IGZ1bmN0aW9uKGFycikge1xuICAgIGNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c2VsZWN0b3JcIik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGFycltpXTtcbiAgICAgICAgY29uc3QgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3RGl2LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0bGlzdGl0ZW1cIik7XG4gICAgICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsIGkpO1xuICAgICAgICBjb25zdCBuZXdEaXZUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIG5ld0RpdlRleHQuY2xhc3NMaXN0LmFkZChcInByb2plY3RsaXN0aXRlbXRleHRcIik7XG4gICAgICAgIG5ld0RpdlRleHQudGV4dENvbnRlbnQgPSBlbGVtZW50LnRpdGxlO1xuICAgICAgICBjb25zdCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBkZWxCdG4uY2xhc3NMaXN0LmFkZChcInByb2plY3RkZWxidG5cIik7XG4gICAgICAgIGRlbEJ0bi50ZXh0Q29udGVudCA9IFwiWFwiO1xuICAgICAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNlbGVjdG9yXCIpO1xuICAgICAgICBwcm9qZWN0TGlzdC5hcHBlbmRDaGlsZChuZXdEaXYpO1xuICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3RGl2VGV4dCk7XG4gICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChkZWxCdG4pO1xuICAgIH1cbn1cblxuY29uc3Qgc2hvd1Rhc2tzID0gZnVuY3Rpb24odGFza2ssIGFycikge1xuICAgIGNvbnN0IHRhc2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrbGlzdFwiKTtcbiAgICBjb25zdCBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG5ld0Rpdi5jbGFzc0xpc3QuYWRkKFwidGFza1wiKTtcbiAgICBuZXdEaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiLCAoYXJyLmxlbmd0aCAtIDEpKTtcbiAgICBjb25zdCBuZXdCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIG5ld0J0bi5jbGFzc0xpc3QuYWRkKFwidGFza2J1dHRvblwiKTtcbiAgICBjb25zdCBuZXdUYXNrTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIG5ld1Rhc2tOYW1lLmNsYXNzTGlzdC5hZGQoXCJ0YXNrZGVzY1wiKTtcbiAgICBuZXdUYXNrTmFtZS50ZXh0Q29udGVudCA9IGAke3Rhc2trLnRpdGxlfWA7XG4gICAgY29uc3QgbmV3VGFza0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBuZXdUYXNrRGF0ZS5jbGFzc0xpc3QuYWRkKFwidGFza2RhdGVcIik7XG4gICAgbmV3VGFza0RhdGUudGV4dENvbnRlbnQgPSBgJHt0YXNray5kdWVEYXRlfWA7XG4gICAgdGFza0xpc3QuYXBwZW5kQ2hpbGQobmV3RGl2KTtcbiAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3QnRuKTtcbiAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3VGFza05hbWUpO1xuICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdUYXNrRGF0ZSk7XG4gICAgaWYgKGAke3Rhc2trLnByaW9yaXR5fWAgPT0gXCJsb3dwcmlvcml0eVwiKSB7XG4gICAgICAgICAgICBuZXdEaXYuc3R5bGUuYm9yZGVyID0gXCJzb2xpZCB5ZWxsb3cgMnB4XCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGAke3Rhc2trLnByaW9yaXR5fWAgPT0gXCJoaWdocHJpb3JpdHlcIikge1xuICAgICAgICAgICAgbmV3RGl2LnN0eWxlLmJvcmRlciA9IFwic29saWQgcmVkIDJweFwiXG4gICAgfVxufVxuXG5jb25zdCBhbGxUYXNrcyA9IGZ1bmN0aW9uKGFycikge1xuICAgIGNvbnN0IHRhc2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrbGlzdFwiKTtcbiAgICBjb25zb2xlLmxvZyhhcnIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tsaXN0XCIpO1xuICAgICAgICBpZiAoIWl0ZW0uaW5uZXJIVE1MID09IFwiXCIpIHtcbiAgICAgICAgICAgIHRhc2tMaXN0LnJlbW92ZUNoaWxkKHRhc2tMaXN0Lmxhc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBhcnJbaV07XG4gICAgICAgIGNvbnN0IG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG5ld0Rpdi5jbGFzc0xpc3QuYWRkKFwidGFza1wiKTtcbiAgICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIiwgaSk7XG4gICAgICAgIGNvbnN0IG5ld0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIG5ld0J0bi5jbGFzc0xpc3QuYWRkKFwidGFza2J1dHRvblwiKTtcbiAgICAgICAgY29uc3QgbmV3VGFza05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgbmV3VGFza05hbWUuY2xhc3NMaXN0LmFkZChcInRhc2tkZXNjXCIpO1xuICAgICAgICBuZXdUYXNrTmFtZS50ZXh0Q29udGVudCA9IGAke2VsZW1lbnQudGl0bGV9YDtcbiAgICAgICAgY29uc3QgbmV3VGFza0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgbmV3VGFza0RhdGUuY2xhc3NMaXN0LmFkZChcInRhc2tkYXRlXCIpO1xuICAgICAgICBuZXdUYXNrRGF0ZS50ZXh0Q29udGVudCA9IGAke2VsZW1lbnQuZHVlRGF0ZX1gO1xuICAgICAgICB0YXNrTGlzdC5hcHBlbmRDaGlsZChuZXdEaXYpO1xuICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3QnRuKTtcbiAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld1Rhc2tOYW1lKTtcbiAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld1Rhc2tEYXRlKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ3b3Jrc1wiKTtcbiAgICAgICAgaWYgKGAke2VsZW1lbnQucHJpb3JpdHl9YCA9PSBcImxvd3ByaW9yaXR5XCIpIHtcbiAgICAgICAgICAgIG5ld0Rpdi5zdHlsZS5ib3JkZXIgPSBcInNvbGlkIHllbGxvdyAycHhcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChgJHtlbGVtZW50LnByaW9yaXR5fWAgPT0gXCJoaWdocHJpb3JpdHlcIikge1xuICAgICAgICAgICAgbmV3RGl2LnN0eWxlLmJvcmRlciA9IFwic29saWQgcmVkIDJweFwiXG4gICAgICAgIH1cblxuICAgICAgICBcbiAgICB9XG59XG5cbmNvbnN0IHRvZGF5c1Rhc2tzID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGxldCBkYXkgPSBkYXRlLmdldERhdGUoKTtcbiAgICBsZXQgbW9udGggPSAoZGF0ZS5nZXRNb250aCgpKzEpLnRvTG9jYWxlU3RyaW5nKCdlbi1VUycsIHttaW5pbXVtSW50ZWdlckRpZ2l0czogMiwgdXNlR3JvdXBpbmc6ZmFsc2V9KTtcbiAgICBsZXQgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICBsZXQgZnVsbERhdGUgPSBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1gO1xuICAgIGNvbnN0IHRhc2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrbGlzdFwiKTtcbiAgICBjb25zb2xlLmxvZyhcInRvZGF5c3Rhc2tzd29ya2luZ1wiKTtcbiAgICBjb25zb2xlLmxvZyhhcnIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tsaXN0XCIpO1xuICAgICAgICBpZiAoIWl0ZW0uaW5uZXJIVE1MID09IFwiXCIpIHtcbiAgICAgICAgICAgIHRhc2tMaXN0LnJlbW92ZUNoaWxkKHRhc2tMaXN0Lmxhc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBhcnJbaV07XG4gICAgICAgIGNvbnNvbGUubG9nKFwid29ya2luZ1wiKTtcbiAgICAgICAgY29uc29sZS5sb2coZWxlbWVudC5kdWVEYXRlKTtcbiAgICAgICAgY29uc29sZS5sb2coZnVsbERhdGUpO1xuICAgICAgICBpZiAoZWxlbWVudC5kdWVEYXRlID09IGZ1bGxEYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgbmV3RGl2LmNsYXNzTGlzdC5hZGQoXCJ0YXNrXCIpO1xuICAgICAgICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIiwgaSk7XG4gICAgICAgICAgICBjb25zdCBuZXdCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgbmV3QnRuLmNsYXNzTGlzdC5hZGQoXCJ0YXNrYnV0dG9uXCIpO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFza05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgIG5ld1Rhc2tOYW1lLmNsYXNzTGlzdC5hZGQoXCJ0YXNrZGVzY1wiKTtcbiAgICAgICAgICAgIG5ld1Rhc2tOYW1lLnRleHRDb250ZW50ID0gYCR7ZWxlbWVudC50aXRsZX1gO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFza0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgIG5ld1Rhc2tEYXRlLmNsYXNzTGlzdC5hZGQoXCJ0YXNrZGF0ZVwiKTtcbiAgICAgICAgICAgIG5ld1Rhc2tEYXRlLnRleHRDb250ZW50ID0gYCR7ZWxlbWVudC5kdWVEYXRlfWA7XG4gICAgICAgICAgICB0YXNrTGlzdC5hcHBlbmRDaGlsZChuZXdEaXYpO1xuICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld0J0bik7XG4gICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3VGFza05hbWUpO1xuICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld1Rhc2tEYXRlKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwid29ya3NcIik7XG4gICAgICAgICAgICBpZiAoYCR7ZWxlbWVudC5wcmlvcml0eX1gID09IFwibG93cHJpb3JpdHlcIikge1xuICAgICAgICAgICAgICAgIG5ld0Rpdi5zdHlsZS5ib3JkZXIgPSBcInNvbGlkIHllbGxvdyAycHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGAke2VsZW1lbnQucHJpb3JpdHl9YCA9PSBcImhpZ2hwcmlvcml0eVwiKSB7XG4gICAgICAgICAgICAgICAgbmV3RGl2LnN0eWxlLmJvcmRlciA9IFwic29saWQgcmVkIDJweFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxufVxuXG5jb25zdCB1cGRhdGVQcm9qZWN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcHJvamVjdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RsaXN0aXRlbVwiKTtcbiAgICByZXR1cm4gcHJvamVjdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RsaXN0aXRlbVwiKTtcbn1cblxuY29uc3Qga2sgPSBmdW5jdGlvbiAoYXJyKSB7XG4gICAgbGV0IHByb2plY3RJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0bGlzdGl0ZW10ZXh0XCIpO1xuICAgIGNvbnN0IHRhc2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrbGlzdFwiKTtcbiAgICB1cGRhdGVQcm9qZWN0cygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdEl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zb2xlLmxvZyhwcm9qZWN0SXRlbVtpXSk7XG4gICAgcHJvamVjdEl0ZW1baV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgcHIgPSBwcm9qZWN0SXRlbVtpXS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza2xpc3RcIik7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLmlubmVySFRNTCA9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tMaXN0LnJlbW92ZUNoaWxkKHRhc2tMaXN0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gYXJyW2ldO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmRlc2NyaXB0aW9uID09IHByKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrbGlzdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBuZXdEaXYuY2xhc3NMaXN0LmFkZChcInRhc2tcIik7XG4gICAgICAgICAgICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIiwgaSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgICAgICAgICBuZXdCdG4uY2xhc3NMaXN0LmFkZChcInRhc2tidXR0b25cIik7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VGFza05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgICAgICBuZXdUYXNrTmFtZS5jbGFzc0xpc3QuYWRkKFwidGFza2Rlc2NcIik7XG4gICAgICAgICAgICAgICAgbmV3VGFza05hbWUudGV4dENvbnRlbnQgPSBgJHtlbGVtZW50LnRpdGxlfWA7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VGFza0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgICAgICBuZXdUYXNrRGF0ZS5jbGFzc0xpc3QuYWRkKFwidGFza2RhdGVcIik7XG4gICAgICAgICAgICAgICAgbmV3VGFza0RhdGUudGV4dENvbnRlbnQgPSBgJHtlbGVtZW50LmR1ZURhdGV9YDtcbiAgICAgICAgICAgICAgICB0YXNrTGlzdC5hcHBlbmRDaGlsZChuZXdEaXYpO1xuICAgICAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdCdG4pO1xuICAgICAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdUYXNrTmFtZSk7XG4gICAgICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld1Rhc2tEYXRlKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIndvcmtzXCIpO1xuICAgICAgICAgICAgICAgIGlmIChgJHtlbGVtZW50LnByaW9yaXR5fWAgPT0gXCJsb3dwcmlvcml0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0Rpdi5zdHlsZS5ib3JkZXIgPSBcInNvbGlkIHllbGxvdyAycHhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYCR7ZWxlbWVudC5wcmlvcml0eX1gID09IFwiaGlnaHByaW9yaXR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RGl2LnN0eWxlLmJvcmRlciA9IFwic29saWQgcmVkIDJweFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICB9KVxuICAgIFxufX1cblxuZnVuY3Rpb24gcmVtb3ZlVGFzayhldmVudCwgYXJyKSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc05hbWUgPT09IFwidGFza2J1dHRvblwiKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coaW5kZXgpO1xuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChldmVudC50YXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGFycik7XG4gICAgICAgIHNldExvY2FsVGFza3MoYXJyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByb2plY3QoZXZlbnQsIGFycikge1xuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NOYW1lID09PSBcInByb2plY3RkZWxidG5cIikge1xuICAgICAgICBjb25zdCBpbmRleCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKGluZGV4KTtcbiAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQpO1xuICAgICAgICBjb25zb2xlLmxvZyhhcnIpO1xuICAgICAgICBzZXRMb2NhbFByb2plY3RzKGFycik7XG4gICAgfVxufVxuXG5cbmV4cG9ydCB7ZHJvcE1lbnUsIHNob3dQcm9qZWN0cywgc2hvd1Rhc2tzLCBhbGxUYXNrcywgdG9kYXlzVGFza3MsIGtrLCB1cGRhdGVQcm9qZWN0cywgcmVtb3ZlVGFzaywgYWxsUHJvamVjdHMsIHJlbW92ZVByb2plY3R9OyIsImxldCB0YXNrSUQgPSAwO1xuZnVuY3Rpb24gdGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSB7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB0aGlzLmlkID0gdGFza0lEO1xuICAgIHRhc2tJRCsrXG59XG5cbmZ1bmN0aW9uIHByb2plY3QodGl0bGUsIHByb2plY3RUYXNrcyA9IFtdKSB7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMucHJvamVjdFRhc2tzID0gcHJvamVjdFRhc2tzO1xufVxuXG5leHBvcnQge3Rhc2ssIHByb2plY3R9OyIsImNvbnNvbGUubG9nKFwiaFwiKTtcbmxldCB0YXNrcyA9IFtdO1xubGV0IHByb2plY3RzID0gW107XG5yZXN0b3JlTG9jYWxUYXNrcyh0YXNrcyk7XG5yZXN0b3JlTG9jYWxQcm9qZWN0cyhwcm9qZWN0cyk7XG5pbXBvcnQge2Ryb3BNZW51LCBzaG93UHJvamVjdHMsIGFsbFRhc2tzLCB0b2RheXNUYXNrcywga2ssIHJlbW92ZVRhc2ssIHJlbW92ZVByb2plY3QsIGFsbFByb2plY3RzfSBmcm9tIFwiLi9tb2R1bGVzL2RvbVwiO1xuaW1wb3J0IHt0YXNrLCBwcm9qZWN0fSBmcm9tIFwiLi9tb2R1bGVzL2ZhY3Rvcmllc1wiO1xuaW1wb3J0IHthZGRUYXNrLCBhZGRQcm9qZWN0fSBmcm9tIFwiLi9tb2R1bGVzL3RvZG9cIjtcbmRyb3BNZW51KCk7XG5hZGRUYXNrKHRhc2tzKTtcbmFkZFByb2plY3QocHJvamVjdHMpO1xuXG5jb25zdCBzaG93QWxsVGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FsbGRhdGVzXCIpO1xuc2hvd0FsbFRhc2tzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICBhbGxUYXNrcyh0YXNrcyk7XG59KVxuXG5jb25zdCBzaG93VG9kYXlzVGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RvZGF5ZGF0ZVwiKTtcbnNob3dUb2RheXNUYXNrcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgdG9kYXlzVGFza3ModGFza3MpO1xufSlcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgIHJlbW92ZVRhc2soZXZlbnQsIHRhc2tzKTtcbn0pXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICByZW1vdmVQcm9qZWN0KGV2ZW50LCB0YXNrcyk7XG59KVxuXG5mdW5jdGlvbiBzZXRMb2NhbFRhc2tzKHRhc2tzKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJUYXNrc1wiLCBKU09OLnN0cmluZ2lmeSh0YXNrcykpO1xufTtcbmZ1bmN0aW9uIHNldExvY2FsUHJvamVjdHMocHJvamVjdHMpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIlByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XG59O1xuZnVuY3Rpb24gcmVzdG9yZUxvY2FsVGFza3MoKSB7XG4gICAgdGFza3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiVGFza3NcIikpO1xuICAgIGlmICh0YXNrcyA9PSBudWxsKSB7XG4gICAgICAgIHRhc2tzID0gW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhbGxUYXNrcyh0YXNrcyk7XG4gICAgICAgIHJldHVybiB0YXNrcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJUYXNrc1wiKSk7XG4gICAgfTtcbn07XG5mdW5jdGlvbiByZXN0b3JlTG9jYWxQcm9qZWN0cygpIHtcbiAgICBwcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJQcm9qZWN0c1wiKSk7XG4gICAgaWYgKHByb2plY3RzID09IG51bGwpIHtcbiAgICAgICAgcHJvamVjdHMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFsbFByb2plY3RzKHByb2plY3RzKTtcbiAgICAgICAgcmV0dXJuIHByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIlByb2plY3RzXCIpKTtcbiAgICB9XG4gICAgXG59XG5cblxuZXhwb3J0IHt0YXNrcywgc2V0TG9jYWxQcm9qZWN0cywgc2V0TG9jYWxUYXNrc307XG5cblxuXG5cbiIsImltcG9ydCB7IHNob3dQcm9qZWN0cywgc2hvd1Rhc2tzLCBhbGxUYXNrcywgdXBkYXRlUHJvamVjdHMsIGtrLCBhbGxQcm9qZWN0c30gZnJvbSBcIi4vZG9tXCI7XG5pbXBvcnQgeyBwcm9qZWN0LCB0YXNrIH0gZnJvbSBcIi4vZmFjdG9yaWVzXCI7XG5pbXBvcnQge3Rhc2tzLCBzZXRMb2NhbFRhc2tzLCBzZXRMb2NhbFByb2plY3RzfSBmcm9tIFwiLi4vaW5kZXhcIjtcblxuY29uc3QgYWRkVGFzayA9IGZ1bmN0aW9uKGFycikge1xuICAgIGNvbnN0IEFkZGJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkdGFza1wiKTtcbiAgICBjb25zdCBuZXdOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrbmFtZVwiKTtcbiAgICBjb25zdCBuZXdEZXNjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvblwiKTtcbiAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkdWVkYXRlXCIpO1xuICAgIGNvbnN0IG5ld1N1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3VibWl0XCIpO1xuICAgIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrcG9wdXBcIik7XG4gICAgcG9wdXAuY2xhc3NMaXN0LmFkZChcImdvbmVcIik7XG4gICAgQWRkYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcImdvbmVcIik7XG4gICAgfSlcbiAgICBuZXdTdWJtaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgIGxldCAgIG5hbWVJbnB1dCA9IG5ld05hbWUudmFsdWU7XG4gICAgbGV0ICAgIGRlc2NJbnB1dCA9IG5ld0Rlc2MudmFsdWU7XG4gICAgbGV0ICAgZGF0ZUlucHV0ID0gZHVlRGF0ZS52YWx1ZTtcbiAgICBjb25zdCBuZXdQcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJwcmlvcml0eVwiXTpjaGVja2VkJyk7XG4gICAgbGV0ICAgcHJpb3JpdHlJbnB1dCA9IG5ld1ByaW9yaXR5LnZhbHVlO1xuICAgIGNvbnNvbGUubG9nKHByaW9yaXR5SW5wdXQpO1xuICAgIGNvbnN0IG1ha2VUYXNrID0gbmV3IHRhc2sobmFtZUlucHV0LCBkZXNjSW5wdXQsIGRhdGVJbnB1dCwgcHJpb3JpdHlJbnB1dCk7XG4gICAgY29uc29sZS5sb2cobWFrZVRhc2spO1xuICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJnb25lXCIpO1xuICAgIGFyci5wdXNoKG1ha2VUYXNrKTtcbiAgICBjb25zb2xlLmxvZyhhcnIpO1xuICAgIHNob3dUYXNrcyhtYWtlVGFzaywgYXJyKTtcbiAgICBzZXRMb2NhbFRhc2tzKGFycik7XG4gICAgfSlcbn1cblxuY29uc3QgYWRkUHJvamVjdCA9IGZ1bmN0aW9uKGFycikge1xuICAgIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZHByb2plY3RcIik7XG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RuYW1lXCIpO1xuICAgIGNvbnN0IGFkZFByb2plY3RQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkcHJvamVjdGZvcm1cIik7XG4gICAgY29uc3QgY3JlYXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0c3VibWl0XCIpO1xuICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdGNhbmNlbFwiKTtcbiAgICBhZGRQcm9qZWN0UG9wdXAuY2xhc3NMaXN0LmFkZChcImdvbmVcIik7XG4gICAgYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGFkZFByb2plY3RQb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwiZ29uZVwiKTtcbiAgICAgICAgYWRkUHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKFwiZ29uZVwiKTtcbiAgICB9KVxuICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGFkZFByb2plY3RQb3B1cC5jbGFzc0xpc3QuYWRkKFwiZ29uZVwiKTtcbiAgICAgICAgYWRkUHJvamVjdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiZ29uZVwiKTtcbiAgICB9KVxuICAgIGNyZWF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBwcm9qZWN0TmFtZUlucHV0ID0gcHJvamVjdE5hbWUudmFsdWU7XG4gICAgICAgIGNvbnN0IG1ha2VQcm9qZWN0ID0gbmV3IHByb2plY3QocHJvamVjdE5hbWVJbnB1dCk7XG4gICAgICAgIGNvbnNvbGUubG9nKG1ha2VQcm9qZWN0KTtcbiAgICAgICAgYWRkUHJvamVjdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiZ29uZVwiKTtcbiAgICAgICAgYWRkUHJvamVjdFBvcHVwLmNsYXNzTGlzdC5hZGQoXCJnb25lXCIpO1xuICAgICAgICBzaG93UHJvamVjdHMobWFrZVByb2plY3QsIGFycik7XG4gICAgICAgIGFyci5wdXNoKG1ha2VQcm9qZWN0KTtcbiAgICAgICAgY29uc29sZS5sb2coYXJyKTtcbiAgICAgICAga2sodGFza3MpO1xuICAgICAgICBzZXRMb2NhbFByb2plY3RzKGFycik7XG4gICAgfSlcbn1cblxuZXhwb3J0IHthZGRUYXNrLCBhZGRQcm9qZWN0fTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhbGxUYXNrcyIsImFyciIsInRhc2tMaXN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29uc29sZSIsImxvZyIsImkiLCJsZW5ndGgiLCJpbm5lckhUTUwiLCJyZW1vdmVDaGlsZCIsImxhc3RDaGlsZCIsImVsZW1lbnQiLCJuZXdEaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwibmV3QnRuIiwibmV3VGFza05hbWUiLCJ0ZXh0Q29udGVudCIsInRpdGxlIiwibmV3VGFza0RhdGUiLCJkdWVEYXRlIiwiYXBwZW5kQ2hpbGQiLCJwcmlvcml0eSIsInN0eWxlIiwiYm9yZGVyIiwidGFza0lEIiwidGFzayIsImRlc2NyaXB0aW9uIiwidGhpcyIsImlkIiwicHJvamVjdCIsInByb2plY3RUYXNrcyIsInRhc2tzIiwicHJvamVjdHMiLCJzZXRMb2NhbFRhc2tzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRMb2NhbFByb2plY3RzIiwicGFyc2UiLCJnZXRJdGVtIiwicmVzdG9yZUxvY2FsVGFza3MiLCJuZXdEaXZUZXh0IiwiZGVsQnRuIiwiYWxsUHJvamVjdHMiLCJyZXN0b3JlTG9jYWxQcm9qZWN0cyIsImRyb3BEb3duQnRuIiwiZHJvcERvd24iLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlIiwiZHJvcE1lbnUiLCJBZGRidG4iLCJuZXdOYW1lIiwibmV3RGVzYyIsIm5ld1N1Ym1pdCIsInBvcHVwIiwicmVtb3ZlIiwibmFtZUlucHV0IiwidmFsdWUiLCJkZXNjSW5wdXQiLCJkYXRlSW5wdXQiLCJwcmlvcml0eUlucHV0IiwibWFrZVRhc2siLCJwdXNoIiwidGFza2siLCJzaG93VGFza3MiLCJhZGRUYXNrIiwiYWRkUHJvamVjdEJ0biIsInByb2plY3ROYW1lIiwiYWRkUHJvamVjdFBvcHVwIiwiY3JlYXRlQnRuIiwiY2FuY2VsQnRuIiwibWFrZVByb2plY3QiLCJzaG93UHJvamVjdHMiLCJwcm9qZWN0SXRlbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwciIsImtrIiwiYWRkUHJvamVjdCIsImRhdGUiLCJEYXRlIiwiZGF5IiwiZ2V0RGF0ZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJ0b0xvY2FsZVN0cmluZyIsIm1pbmltdW1JbnRlZ2VyRGlnaXRzIiwidXNlR3JvdXBpbmciLCJmdWxsRGF0ZSIsImdldEZ1bGxZZWFyIiwidG9kYXlzVGFza3MiLCJldmVudCIsInRhcmdldCIsImNsYXNzTmFtZSIsImluZGV4IiwicGFyZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsInNwbGljZSIsInJlbW92ZVRhc2siLCJyZW1vdmVQcm9qZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==
(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{OU:()=>i,hp:()=>r,wq:()=>c});const t=function(e){const t=document.querySelector(".tasklist");console.log(e);for(let o=0;o<e.length;o++)""==!document.querySelector(".tasklist").innerHTML&&t.removeChild(t.lastChild);for(let o=0;o<e.length;o++){const n=e[o],l=document.createElement("div");l.classList.add("task"),l.setAttribute("data-index",o);const s=document.createElement("button");s.classList.add("taskbutton");const c=document.createElement("p");c.classList.add("taskdesc"),c.textContent=`${n.title}`;const d=document.createElement("p");d.classList.add("taskdate"),d.textContent=`${n.dueDate}`,t.appendChild(l),l.appendChild(s),l.appendChild(c),l.appendChild(d),console.log("works"),"lowpriority"==`${n.priority}`?l.style.border="solid yellow 2px":"highpriority"==`${n.priority}`&&(l.style.border="solid red 2px")}},o=function(e){let t=document.querySelectorAll(".projectlistitemtext");const o=document.querySelector(".tasklist");console.log(t),document.querySelectorAll(".projectlistitem"),document.querySelectorAll(".projectlistitem");for(let n=0;n<t.length;n++)console.log(t[n]),t[n].addEventListener("click",(function(){const l=t[n].textContent;console.log(l);for(let t=0;t<e.length;t++)""==!document.querySelector(".tasklist").innerHTML&&o.removeChild(o.lastChild);for(let t=0;t<e.length;t++){console.log("kkworking");const o=e[t];if(o.description==l){const e=document.querySelector(".tasklist"),n=document.createElement("div");n.classList.add("task"),n.setAttribute("data-index",t);const l=document.createElement("button");l.classList.add("taskbutton");const s=document.createElement("p");s.classList.add("taskdesc"),s.textContent=`${o.title}`;const c=document.createElement("p");c.classList.add("taskdate"),c.textContent=`${o.dueDate}`,e.appendChild(n),n.appendChild(l),n.appendChild(s),n.appendChild(c),console.log("works"),"lowpriority"==`${o.priority}`?n.style.border="solid yellow 2px":"highpriority"==`${o.priority}`&&(n.style.border="solid red 2px")}}}))};let n=0;function l(e,t,o,l){this.title=e,this.description=t,this.dueDate=o,this.priority=l,this.id=n,n++}function s(e,t=[]){this.title=e,this.projectTasks=t}console.log("h");let c=[],d=[];function r(e){localStorage.setItem("Tasks",JSON.stringify(e))}function i(e){localStorage.setItem("Projects",JSON.stringify(e))}!function(){if(c=JSON.parse(localStorage.getItem("Tasks")),null!=c)return t(c),c=JSON.parse(localStorage.getItem("Tasks"));c=[]}(),function(){if(d=JSON.parse(localStorage.getItem("Projects")),console.log(d),null!=d)return function(e,t){document.querySelector(".projectselector");for(let t=0;t<e.length;t++){const o=e[t],n=document.createElement("div");n.classList.add("projectlistitem"),n.setAttribute("data-index",t);const l=document.createElement("p");l.classList.add("projectlistitemtext"),l.textContent=o.title;const s=document.createElement("button");s.classList.add("projectdelbtn"),s.textContent="X",document.querySelector(".projectselector").appendChild(n),n.appendChild(l),n.appendChild(s)}o(t)}(d,c),d=JSON.parse(localStorage.getItem("Projects"));d=[]}(),function(){const e=document.querySelector(".dropbutton"),t=document.querySelector(".dropdown");console.log("works"),t.classList.add("gone"),e.addEventListener("click",(function(){t.classList.toggle("gone")}))}(),function(e){const t=document.querySelector("#addtask"),o=document.querySelector("#taskname"),n=document.querySelector("#description"),s=document.querySelector("#duedate"),c=document.querySelector("#submit"),d=document.querySelector(".taskpopup");d.classList.add("gone"),t.addEventListener("click",(function(){d.classList.remove("gone")})),c.addEventListener("click",(function(){let t=o.value,c=n.value,i=s.value,a=document.querySelector('input[name="priority"]:checked').value;console.log(a);const u=new l(t,c,i,a);console.log(u),d.classList.add("gone"),e.push(u),console.log(e),function(e,t){const o=document.querySelector(".tasklist"),n=document.createElement("div");n.classList.add("task"),n.setAttribute("data-index",t.length-1);const l=document.createElement("button");l.classList.add("taskbutton");const s=document.createElement("p");s.classList.add("taskdesc"),s.textContent=`${e.title}`;const c=document.createElement("p");c.classList.add("taskdate"),c.textContent=`${e.dueDate}`,o.appendChild(n),n.appendChild(l),n.appendChild(s),n.appendChild(c),"lowpriority"==`${e.priority}`?n.style.border="solid yellow 2px":"highpriority"==`${e.priority}`&&(n.style.border="solid red 2px")}(u,e),r(e)}))}(c),function(e){const t=document.querySelector("#addproject"),n=document.querySelector("#projectname"),l=document.querySelector("#addprojectform"),d=document.querySelector("#projectsubmit"),r=document.querySelector("#projectcancel");l.classList.add("gone"),t.addEventListener("click",(function(){l.classList.remove("gone"),t.classList.add("gone")})),r.addEventListener("click",(function(){l.classList.add("gone"),t.classList.remove("gone")})),d.addEventListener("click",(function(){const d=new s(n.value);console.log(d),t.classList.remove("gone"),l.classList.add("gone"),function(e,t){const o=document.createElement("div");o.classList.add("projectlistitem"),o.setAttribute("data-index",t.length-1);const n=document.createElement("p");n.classList.add("projectlistitemtext"),n.textContent=`${e.title}`;const l=document.createElement("button");l.classList.add("projectdelbtn"),l.textContent="X",document.querySelector(".projectselector").appendChild(o),o.appendChild(n),o.appendChild(l)}(d,e),e.push(d),console.log(e),o(c),i(e)}))}(d),document.querySelector("#alldates").addEventListener("click",(function(){t(c)})),document.querySelector("#todaydate").addEventListener("click",(function(){!function(e){let t=new Date,o=t.getDate(),n=(t.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),l=`${t.getFullYear()}-${n}-${o}`;const s=document.querySelector(".tasklist");console.log("todaystasksworking"),console.log(e);for(let t=0;t<e.length;t++)""==!document.querySelector(".tasklist").innerHTML&&s.removeChild(s.lastChild);for(let t=0;t<e.length;t++){const o=e[t];if(console.log("working"),console.log(o.dueDate),console.log(l),o.dueDate==l){const e=document.createElement("div");e.classList.add("task"),e.setAttribute("data-index",t);const n=document.createElement("button");n.classList.add("taskbutton");const l=document.createElement("p");l.classList.add("taskdesc"),l.textContent=`${o.title}`;const c=document.createElement("p");c.classList.add("taskdate"),c.textContent=`${o.dueDate}`,s.appendChild(e),e.appendChild(n),e.appendChild(l),e.appendChild(c),console.log("works"),"lowpriority"==`${o.priority}`?e.style.border="solid yellow 2px":"highpriority"==`${o.priority}`&&(e.style.border="solid red 2px")}}}(c)})),document.addEventListener("click",(e=>{!function(e,t){if("taskbutton"===e.target.className){const o=e.target.parentElement.getAttribute("data-index");console.log(o),t.splice(o,1),e.target.parentElement.parentElement.removeChild(e.target.parentElement),console.log(t),r(t)}}(e,c)})),document.addEventListener("click",(e=>{!function(e,t){if("projectdelbtn"===e.target.className){const o=e.target.parentElement.getAttribute("data-index");console.log(o),t.splice(o,1),e.target.parentElement.parentElement.removeChild(e.target.parentElement),console.log(t),i(t)}}(e,c)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TixHQUNuQkwsRUFBT1csWUFBWUwsR0FDbkJOLEVBQU9XLFlBQVlGLEdBQ25CakIsUUFBUUMsSUFBSSxTQUNpQixlQUF6QixHQUFHTSxFQUFRYSxXQUNYWixFQUFPYSxNQUFNQyxPQUFTLG1CQUVRLGdCQUF6QixHQUFHZixFQUFRYSxhQUNoQlosRUFBT2EsTUFBTUMsT0FBUyxtQkV6SWxDb0UsQ0FBWXZELE1BR2hCckMsU0FBUzRCLGlCQUFpQixTQUFVaUUsS0ZxTXBDLFNBQW9CQSxFQUFPL0YsR0FDdkIsR0FBK0IsZUFBM0IrRixFQUFNQyxPQUFPQyxVQUE0QixDQUN6QyxNQUFNQyxFQUFRSCxFQUFNQyxPQUFPRyxjQUFjQyxhQUFhLGNBQ3REaEcsUUFBUUMsSUFBSTZGLEdBQ1psRyxFQUFJcUcsT0FBT0gsRUFBTyxHQUNsQkgsRUFBTUMsT0FBT0csY0FBY0EsY0FBYzFGLFlBQVlzRixFQUFNQyxPQUFPRyxlQUNsRS9GLFFBQVFDLElBQUlMLEdBQ1p5QyxFQUFjekMsSUUzTWxCc0csQ0FBV1AsRUFBT3hELE1BR3RCckMsU0FBUzRCLGlCQUFpQixTQUFVaUUsS0Y0TXBDLFNBQXVCQSxFQUFPL0YsR0FDMUIsR0FBK0Isa0JBQTNCK0YsRUFBTUMsT0FBT0MsVUFBK0IsQ0FDNUMsTUFBTUMsRUFBUUgsRUFBTUMsT0FBT0csY0FBY0MsYUFBYSxjQUN0RGhHLFFBQVFDLElBQUk2RixHQUNabEcsRUFBSXFHLE9BQU9ILEVBQU8sR0FDbEJILEVBQU1DLE9BQU9HLGNBQWNBLGNBQWMxRixZQUFZc0YsRUFBTUMsT0FBT0csZUFDbEUvRixRQUFRQyxJQUFJTCxHQUNaOEMsRUFBaUI5QyxJRWxOckJ1RyxDQUFjUixFQUFPeEQsTyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG9saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RvZG9saXN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvbGlzdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL21vZHVsZXMvZG9tLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL21vZHVsZXMvZmFjdG9yaWVzLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL21vZHVsZXMvdG9kby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImltcG9ydCB7IHRhc2t9IGZyb20gXCIuL2ZhY3Rvcmllc1wiO1xuaW1wb3J0IHsgc2V0TG9jYWxQcm9qZWN0cywgc2V0TG9jYWxUYXNrcyB9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5jb25zdCBkcm9wTWVudSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGRyb3BEb3duQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kcm9wYnV0dG9uXCIpO1xuICAgIGNvbnN0IGRyb3BEb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kcm9wZG93blwiKTtcbiAgICBjb25zb2xlLmxvZyhcIndvcmtzXCIpO1xuICAgIGRyb3BEb3duLmNsYXNzTGlzdC5hZGQoXCJnb25lXCIpO1xuICAgIGRyb3BEb3duQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICBkcm9wRG93bi5jbGFzc0xpc3QudG9nZ2xlKFwiZ29uZVwiKTtcbiAgICB9KTtcbn1cblxuY29uc3Qgc2hvd1Byb2plY3RzID0gZnVuY3Rpb24ocHJvamVjdCwgYXJyKSB7XG4gICAgY29uc3QgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBuZXdEaXYuY2xhc3NMaXN0LmFkZChcInByb2plY3RsaXN0aXRlbVwiKTtcbiAgICBuZXdEaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiLCAoYXJyLmxlbmd0aCAtIDEpKTtcbiAgICBjb25zdCBuZXdEaXZUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgbmV3RGl2VGV4dC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdGxpc3RpdGVtdGV4dFwiKTtcbiAgICBuZXdEaXZUZXh0LnRleHRDb250ZW50ID0gYCR7cHJvamVjdC50aXRsZX1gO1xuICAgIGNvbnN0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgZGVsQnRuLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0ZGVsYnRuXCIpO1xuICAgIGRlbEJ0bi50ZXh0Q29udGVudCA9IFwiWFwiO1xuICAgIGNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c2VsZWN0b3JcIik7XG4gICAgcHJvamVjdExpc3QuYXBwZW5kQ2hpbGQobmV3RGl2KTtcbiAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3RGl2VGV4dCk7XG4gICAgbmV3RGl2LmFwcGVuZENoaWxkKGRlbEJ0bik7XG59XG5cbmNvbnN0IGFsbFByb2plY3RzID0gZnVuY3Rpb24oYXJyLCBhcnJUKSB7XG4gICAgY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3RzZWxlY3RvclwiKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gYXJyW2ldO1xuICAgICAgICBjb25zdCBuZXdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBuZXdEaXYuY2xhc3NMaXN0LmFkZChcInByb2plY3RsaXN0aXRlbVwiKTtcbiAgICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIiwgaSk7XG4gICAgICAgIGNvbnN0IG5ld0RpdlRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgbmV3RGl2VGV4dC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdGxpc3RpdGVtdGV4dFwiKTtcbiAgICAgICAgbmV3RGl2VGV4dC50ZXh0Q29udGVudCA9IGVsZW1lbnQudGl0bGU7XG4gICAgICAgIGNvbnN0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIGRlbEJ0bi5jbGFzc0xpc3QuYWRkKFwicHJvamVjdGRlbGJ0blwiKTtcbiAgICAgICAgZGVsQnRuLnRleHRDb250ZW50ID0gXCJYXCI7XG4gICAgICAgIGNvbnN0IHByb2plY3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0c2VsZWN0b3JcIik7XG4gICAgICAgIHByb2plY3RMaXN0LmFwcGVuZENoaWxkKG5ld0Rpdik7XG4gICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdEaXZUZXh0KTtcbiAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKGRlbEJ0bik7XG4gICAgfVxuICAgIGtrKGFyclQpO1xufVxuXG5jb25zdCBzaG93VGFza3MgPSBmdW5jdGlvbih0YXNraywgYXJyKSB7XG4gICAgY29uc3QgdGFza0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tsaXN0XCIpO1xuICAgIGNvbnN0IG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbmV3RGl2LmNsYXNzTGlzdC5hZGQoXCJ0YXNrXCIpO1xuICAgIG5ld0Rpdi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsIChhcnIubGVuZ3RoIC0gMSkpO1xuICAgIGNvbnN0IG5ld0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgbmV3QnRuLmNsYXNzTGlzdC5hZGQoXCJ0YXNrYnV0dG9uXCIpO1xuICAgIGNvbnN0IG5ld1Rhc2tOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgbmV3VGFza05hbWUuY2xhc3NMaXN0LmFkZChcInRhc2tkZXNjXCIpO1xuICAgIG5ld1Rhc2tOYW1lLnRleHRDb250ZW50ID0gYCR7dGFza2sudGl0bGV9YDtcbiAgICBjb25zdCBuZXdUYXNrRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIG5ld1Rhc2tEYXRlLmNsYXNzTGlzdC5hZGQoXCJ0YXNrZGF0ZVwiKTtcbiAgICBuZXdUYXNrRGF0ZS50ZXh0Q29udGVudCA9IGAke3Rhc2trLmR1ZURhdGV9YDtcbiAgICB0YXNrTGlzdC5hcHBlbmRDaGlsZChuZXdEaXYpO1xuICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdCdG4pO1xuICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdUYXNrTmFtZSk7XG4gICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld1Rhc2tEYXRlKTtcbiAgICBpZiAoYCR7dGFza2sucHJpb3JpdHl9YCA9PSBcImxvd3ByaW9yaXR5XCIpIHtcbiAgICAgICAgICAgIG5ld0Rpdi5zdHlsZS5ib3JkZXIgPSBcInNvbGlkIHllbGxvdyAycHhcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAoYCR7dGFza2sucHJpb3JpdHl9YCA9PSBcImhpZ2hwcmlvcml0eVwiKSB7XG4gICAgICAgICAgICBuZXdEaXYuc3R5bGUuYm9yZGVyID0gXCJzb2xpZCByZWQgMnB4XCJcbiAgICB9XG59XG5cbmNvbnN0IGFsbFRhc2tzID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgY29uc3QgdGFza0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tsaXN0XCIpO1xuICAgIGNvbnNvbGUubG9nKGFycik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza2xpc3RcIik7XG4gICAgICAgIGlmICghaXRlbS5pbm5lckhUTUwgPT0gXCJcIikge1xuICAgICAgICAgICAgdGFza0xpc3QucmVtb3ZlQ2hpbGQodGFza0xpc3QubGFzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGFycltpXTtcbiAgICAgICAgY29uc3QgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3RGl2LmNsYXNzTGlzdC5hZGQoXCJ0YXNrXCIpO1xuICAgICAgICBuZXdEaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiLCBpKTtcbiAgICAgICAgY29uc3QgbmV3QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgbmV3QnRuLmNsYXNzTGlzdC5hZGQoXCJ0YXNrYnV0dG9uXCIpO1xuICAgICAgICBjb25zdCBuZXdUYXNrTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBuZXdUYXNrTmFtZS5jbGFzc0xpc3QuYWRkKFwidGFza2Rlc2NcIik7XG4gICAgICAgIG5ld1Rhc2tOYW1lLnRleHRDb250ZW50ID0gYCR7ZWxlbWVudC50aXRsZX1gO1xuICAgICAgICBjb25zdCBuZXdUYXNrRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBuZXdUYXNrRGF0ZS5jbGFzc0xpc3QuYWRkKFwidGFza2RhdGVcIik7XG4gICAgICAgIG5ld1Rhc2tEYXRlLnRleHRDb250ZW50ID0gYCR7ZWxlbWVudC5kdWVEYXRlfWA7XG4gICAgICAgIHRhc2tMaXN0LmFwcGVuZENoaWxkKG5ld0Rpdik7XG4gICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdCdG4pO1xuICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3VGFza05hbWUpO1xuICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3VGFza0RhdGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIndvcmtzXCIpO1xuICAgICAgICBpZiAoYCR7ZWxlbWVudC5wcmlvcml0eX1gID09IFwibG93cHJpb3JpdHlcIikge1xuICAgICAgICAgICAgbmV3RGl2LnN0eWxlLmJvcmRlciA9IFwic29saWQgeWVsbG93IDJweFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGAke2VsZW1lbnQucHJpb3JpdHl9YCA9PSBcImhpZ2hwcmlvcml0eVwiKSB7XG4gICAgICAgICAgICBuZXdEaXYuc3R5bGUuYm9yZGVyID0gXCJzb2xpZCByZWQgMnB4XCJcbiAgICAgICAgfVxuXG4gICAgICAgIFxuICAgIH1cbn1cblxuY29uc3QgdG9kYXlzVGFza3MgPSBmdW5jdGlvbihhcnIpIHtcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIGxldCBtb250aCA9IChkYXRlLmdldE1vbnRoKCkrMSkudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywge21pbmltdW1JbnRlZ2VyRGlnaXRzOiAyLCB1c2VHcm91cGluZzpmYWxzZX0pO1xuICAgIGxldCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIGxldCBmdWxsRGF0ZSA9IGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWA7XG4gICAgY29uc3QgdGFza0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tsaXN0XCIpO1xuICAgIGNvbnNvbGUubG9nKFwidG9kYXlzdGFza3N3b3JraW5nXCIpO1xuICAgIGNvbnNvbGUubG9nKGFycik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza2xpc3RcIik7XG4gICAgICAgIGlmICghaXRlbS5pbm5lckhUTUwgPT0gXCJcIikge1xuICAgICAgICAgICAgdGFza0xpc3QucmVtb3ZlQ2hpbGQodGFza0xpc3QubGFzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGFycltpXTtcbiAgICAgICAgY29uc29sZS5sb2coXCJ3b3JraW5nXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhlbGVtZW50LmR1ZURhdGUpO1xuICAgICAgICBjb25zb2xlLmxvZyhmdWxsRGF0ZSk7XG4gICAgICAgIGlmIChlbGVtZW50LmR1ZURhdGUgPT0gZnVsbERhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBuZXdEaXYuY2xhc3NMaXN0LmFkZChcInRhc2tcIik7XG4gICAgICAgICAgICBuZXdEaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiLCBpKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgICAgICBuZXdCdG4uY2xhc3NMaXN0LmFkZChcInRhc2tidXR0b25cIik7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgbmV3VGFza05hbWUuY2xhc3NMaXN0LmFkZChcInRhc2tkZXNjXCIpO1xuICAgICAgICAgICAgbmV3VGFza05hbWUudGV4dENvbnRlbnQgPSBgJHtlbGVtZW50LnRpdGxlfWA7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgbmV3VGFza0RhdGUuY2xhc3NMaXN0LmFkZChcInRhc2tkYXRlXCIpO1xuICAgICAgICAgICAgbmV3VGFza0RhdGUudGV4dENvbnRlbnQgPSBgJHtlbGVtZW50LmR1ZURhdGV9YDtcbiAgICAgICAgICAgIHRhc2tMaXN0LmFwcGVuZENoaWxkKG5ld0Rpdik7XG4gICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3QnRuKTtcbiAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdUYXNrTmFtZSk7XG4gICAgICAgICAgICBuZXdEaXYuYXBwZW5kQ2hpbGQobmV3VGFza0RhdGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3b3Jrc1wiKTtcbiAgICAgICAgICAgIGlmIChgJHtlbGVtZW50LnByaW9yaXR5fWAgPT0gXCJsb3dwcmlvcml0eVwiKSB7XG4gICAgICAgICAgICAgICAgbmV3RGl2LnN0eWxlLmJvcmRlciA9IFwic29saWQgeWVsbG93IDJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYCR7ZWxlbWVudC5wcmlvcml0eX1gID09IFwiaGlnaHByaW9yaXR5XCIpIHtcbiAgICAgICAgICAgICAgICBuZXdEaXYuc3R5bGUuYm9yZGVyID0gXCJzb2xpZCByZWQgMnB4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG59XG5cbmNvbnN0IHVwZGF0ZVByb2plY3RzID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBwcm9qZWN0SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdGxpc3RpdGVtXCIpO1xuICAgIHJldHVybiBwcm9qZWN0SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdGxpc3RpdGVtXCIpO1xufVxuXG5jb25zdCBrayA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgICBsZXQgcHJvamVjdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3RsaXN0aXRlbXRleHRcIik7XG4gICAgY29uc3QgdGFza0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tsaXN0XCIpO1xuICAgIGNvbnNvbGUubG9nKHByb2plY3RJdGVtKTtcbiAgICB1cGRhdGVQcm9qZWN0cygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdEl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zb2xlLmxvZyhwcm9qZWN0SXRlbVtpXSk7XG4gICAgcHJvamVjdEl0ZW1baV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgcHIgPSBwcm9qZWN0SXRlbVtpXS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza2xpc3RcIik7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLmlubmVySFRNTCA9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tMaXN0LnJlbW92ZUNoaWxkKHRhc2tMaXN0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImtrd29ya2luZ1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gYXJyW2ldO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmRlc2NyaXB0aW9uID09IHByKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrbGlzdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBuZXdEaXYuY2xhc3NMaXN0LmFkZChcInRhc2tcIik7XG4gICAgICAgICAgICAgICAgbmV3RGl2LnNldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIiwgaSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgICAgICAgICBuZXdCdG4uY2xhc3NMaXN0LmFkZChcInRhc2tidXR0b25cIik7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VGFza05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgICAgICBuZXdUYXNrTmFtZS5jbGFzc0xpc3QuYWRkKFwidGFza2Rlc2NcIik7XG4gICAgICAgICAgICAgICAgbmV3VGFza05hbWUudGV4dENvbnRlbnQgPSBgJHtlbGVtZW50LnRpdGxlfWA7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VGFza0RhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgICAgICBuZXdUYXNrRGF0ZS5jbGFzc0xpc3QuYWRkKFwidGFza2RhdGVcIik7XG4gICAgICAgICAgICAgICAgbmV3VGFza0RhdGUudGV4dENvbnRlbnQgPSBgJHtlbGVtZW50LmR1ZURhdGV9YDtcbiAgICAgICAgICAgICAgICB0YXNrTGlzdC5hcHBlbmRDaGlsZChuZXdEaXYpO1xuICAgICAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdCdG4pO1xuICAgICAgICAgICAgICAgIG5ld0Rpdi5hcHBlbmRDaGlsZChuZXdUYXNrTmFtZSk7XG4gICAgICAgICAgICAgICAgbmV3RGl2LmFwcGVuZENoaWxkKG5ld1Rhc2tEYXRlKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIndvcmtzXCIpO1xuICAgICAgICAgICAgICAgIGlmIChgJHtlbGVtZW50LnByaW9yaXR5fWAgPT0gXCJsb3dwcmlvcml0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0Rpdi5zdHlsZS5ib3JkZXIgPSBcInNvbGlkIHllbGxvdyAycHhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYCR7ZWxlbWVudC5wcmlvcml0eX1gID09IFwiaGlnaHByaW9yaXR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RGl2LnN0eWxlLmJvcmRlciA9IFwic29saWQgcmVkIDJweFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICB9KVxuICAgIFxufX1cblxuZnVuY3Rpb24gcmVtb3ZlVGFzayhldmVudCwgYXJyKSB7XG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc05hbWUgPT09IFwidGFza2J1dHRvblwiKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coaW5kZXgpO1xuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChldmVudC50YXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGFycik7XG4gICAgICAgIHNldExvY2FsVGFza3MoYXJyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVByb2plY3QoZXZlbnQsIGFycikge1xuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NOYW1lID09PSBcInByb2plY3RkZWxidG5cIikge1xuICAgICAgICBjb25zdCBpbmRleCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKGluZGV4KTtcbiAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQpO1xuICAgICAgICBjb25zb2xlLmxvZyhhcnIpO1xuICAgICAgICBzZXRMb2NhbFByb2plY3RzKGFycik7XG4gICAgfVxufVxuXG5cbmV4cG9ydCB7ZHJvcE1lbnUsIHNob3dQcm9qZWN0cywgc2hvd1Rhc2tzLCBhbGxUYXNrcywgdG9kYXlzVGFza3MsIGtrLCB1cGRhdGVQcm9qZWN0cywgcmVtb3ZlVGFzaywgYWxsUHJvamVjdHMsIHJlbW92ZVByb2plY3R9OyIsImxldCB0YXNrSUQgPSAwO1xuZnVuY3Rpb24gdGFzayh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSB7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB0aGlzLmlkID0gdGFza0lEO1xuICAgIHRhc2tJRCsrXG59XG5cbmZ1bmN0aW9uIHByb2plY3QodGl0bGUsIHByb2plY3RUYXNrcyA9IFtdKSB7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMucHJvamVjdFRhc2tzID0gcHJvamVjdFRhc2tzO1xufVxuXG5leHBvcnQge3Rhc2ssIHByb2plY3R9OyIsImNvbnNvbGUubG9nKFwiaFwiKTtcbmxldCB0YXNrcyA9IFtdO1xubGV0IHByb2plY3RzID0gW107XG5yZXN0b3JlTG9jYWxUYXNrcyh0YXNrcyk7XG5yZXN0b3JlTG9jYWxQcm9qZWN0cyhwcm9qZWN0cyk7XG5pbXBvcnQge2Ryb3BNZW51LCBzaG93UHJvamVjdHMsIGFsbFRhc2tzLCB0b2RheXNUYXNrcywga2ssIHJlbW92ZVRhc2ssIHJlbW92ZVByb2plY3QsIGFsbFByb2plY3RzfSBmcm9tIFwiLi9tb2R1bGVzL2RvbVwiO1xuaW1wb3J0IHt0YXNrLCBwcm9qZWN0fSBmcm9tIFwiLi9tb2R1bGVzL2ZhY3Rvcmllc1wiO1xuaW1wb3J0IHthZGRUYXNrLCBhZGRQcm9qZWN0fSBmcm9tIFwiLi9tb2R1bGVzL3RvZG9cIjtcbmRyb3BNZW51KCk7XG5hZGRUYXNrKHRhc2tzKTtcbmFkZFByb2plY3QocHJvamVjdHMpO1xuXG5jb25zdCBzaG93QWxsVGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FsbGRhdGVzXCIpO1xuc2hvd0FsbFRhc2tzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICBhbGxUYXNrcyh0YXNrcyk7XG59KVxuXG5jb25zdCBzaG93VG9kYXlzVGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RvZGF5ZGF0ZVwiKTtcbnNob3dUb2RheXNUYXNrcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgdG9kYXlzVGFza3ModGFza3MpO1xufSlcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgIHJlbW92ZVRhc2soZXZlbnQsIHRhc2tzKTtcbn0pXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICByZW1vdmVQcm9qZWN0KGV2ZW50LCB0YXNrcyk7XG59KVxuXG5mdW5jdGlvbiBzZXRMb2NhbFRhc2tzKHRhc2tzKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJUYXNrc1wiLCBKU09OLnN0cmluZ2lmeSh0YXNrcykpO1xufTtcbmZ1bmN0aW9uIHNldExvY2FsUHJvamVjdHMocHJvamVjdHMpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIlByb2plY3RzXCIsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XG59O1xuZnVuY3Rpb24gcmVzdG9yZUxvY2FsVGFza3MoKSB7XG4gICAgdGFza3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiVGFza3NcIikpO1xuICAgIGlmICh0YXNrcyA9PSBudWxsKSB7XG4gICAgICAgIHRhc2tzID0gW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhbGxUYXNrcyh0YXNrcyk7XG4gICAgICAgIHJldHVybiB0YXNrcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJUYXNrc1wiKSk7XG4gICAgfTtcbn07XG5mdW5jdGlvbiByZXN0b3JlTG9jYWxQcm9qZWN0cygpIHtcbiAgICBwcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJQcm9qZWN0c1wiKSk7XG4gICAgY29uc29sZS5sb2cocHJvamVjdHMpO1xuICAgIGlmIChwcm9qZWN0cyA9PSBudWxsKSB7XG4gICAgICAgIHByb2plY3RzID0gW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhbGxQcm9qZWN0cyhwcm9qZWN0cywgdGFza3MpO1xuICAgICAgICByZXR1cm4gcHJvamVjdHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiUHJvamVjdHNcIikpO1xuICAgIH1cbiAgICBcbn1cblxuXG5leHBvcnQge3Rhc2tzLCBzZXRMb2NhbFByb2plY3RzLCBzZXRMb2NhbFRhc2tzfTtcblxuXG5cblxuIiwiaW1wb3J0IHsgc2hvd1Byb2plY3RzLCBzaG93VGFza3MsIGFsbFRhc2tzLCB1cGRhdGVQcm9qZWN0cywga2ssIGFsbFByb2plY3RzfSBmcm9tIFwiLi9kb21cIjtcbmltcG9ydCB7IHByb2plY3QsIHRhc2sgfSBmcm9tIFwiLi9mYWN0b3JpZXNcIjtcbmltcG9ydCB7dGFza3MsIHNldExvY2FsVGFza3MsIHNldExvY2FsUHJvamVjdHN9IGZyb20gXCIuLi9pbmRleFwiO1xuXG5jb25zdCBhZGRUYXNrID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgY29uc3QgQWRkYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGR0YXNrXCIpO1xuICAgIGNvbnN0IG5ld05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2tuYW1lXCIpO1xuICAgIGNvbnN0IG5ld0Rlc2MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Rlc2NyaXB0aW9uXCIpO1xuICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2R1ZWRhdGVcIik7XG4gICAgY29uc3QgbmV3U3VibWl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdWJtaXRcIik7XG4gICAgY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2twb3B1cFwiKTtcbiAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKFwiZ29uZVwiKTtcbiAgICBBZGRidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwiZ29uZVwiKTtcbiAgICB9KVxuICAgIG5ld1N1Ym1pdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgbGV0ICAgbmFtZUlucHV0ID0gbmV3TmFtZS52YWx1ZTtcbiAgICBsZXQgICAgZGVzY0lucHV0ID0gbmV3RGVzYy52YWx1ZTtcbiAgICBsZXQgICBkYXRlSW5wdXQgPSBkdWVEYXRlLnZhbHVlO1xuICAgIGNvbnN0IG5ld1ByaW9yaXR5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInByaW9yaXR5XCJdOmNoZWNrZWQnKTtcbiAgICBsZXQgICBwcmlvcml0eUlucHV0ID0gbmV3UHJpb3JpdHkudmFsdWU7XG4gICAgY29uc29sZS5sb2cocHJpb3JpdHlJbnB1dCk7XG4gICAgY29uc3QgbWFrZVRhc2sgPSBuZXcgdGFzayhuYW1lSW5wdXQsIGRlc2NJbnB1dCwgZGF0ZUlucHV0LCBwcmlvcml0eUlucHV0KTtcbiAgICBjb25zb2xlLmxvZyhtYWtlVGFzayk7XG4gICAgcG9wdXAuY2xhc3NMaXN0LmFkZChcImdvbmVcIik7XG4gICAgYXJyLnB1c2gobWFrZVRhc2spO1xuICAgIGNvbnNvbGUubG9nKGFycik7XG4gICAgc2hvd1Rhc2tzKG1ha2VUYXNrLCBhcnIpO1xuICAgIHNldExvY2FsVGFza3MoYXJyKTtcbiAgICB9KVxufVxuXG5jb25zdCBhZGRQcm9qZWN0ID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkcHJvamVjdFwiKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdG5hbWVcIik7XG4gICAgY29uc3QgYWRkUHJvamVjdFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGRwcm9qZWN0Zm9ybVwiKTtcbiAgICBjb25zdCBjcmVhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RzdWJtaXRcIik7XG4gICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0Y2FuY2VsXCIpO1xuICAgIGFkZFByb2plY3RQb3B1cC5jbGFzc0xpc3QuYWRkKFwiZ29uZVwiKTtcbiAgICBhZGRQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgYWRkUHJvamVjdFBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJnb25lXCIpO1xuICAgICAgICBhZGRQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoXCJnb25lXCIpO1xuICAgIH0pXG4gICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgYWRkUHJvamVjdFBvcHVwLmNsYXNzTGlzdC5hZGQoXCJnb25lXCIpO1xuICAgICAgICBhZGRQcm9qZWN0QnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJnb25lXCIpO1xuICAgIH0pXG4gICAgY3JlYXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHByb2plY3ROYW1lSW5wdXQgPSBwcm9qZWN0TmFtZS52YWx1ZTtcbiAgICAgICAgY29uc3QgbWFrZVByb2plY3QgPSBuZXcgcHJvamVjdChwcm9qZWN0TmFtZUlucHV0KTtcbiAgICAgICAgY29uc29sZS5sb2cobWFrZVByb2plY3QpO1xuICAgICAgICBhZGRQcm9qZWN0QnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJnb25lXCIpO1xuICAgICAgICBhZGRQcm9qZWN0UG9wdXAuY2xhc3NMaXN0LmFkZChcImdvbmVcIik7XG4gICAgICAgIHNob3dQcm9qZWN0cyhtYWtlUHJvamVjdCwgYXJyKTtcbiAgICAgICAgYXJyLnB1c2gobWFrZVByb2plY3QpO1xuICAgICAgICBjb25zb2xlLmxvZyhhcnIpO1xuICAgICAgICBrayh0YXNrcyk7XG4gICAgICAgIHNldExvY2FsUHJvamVjdHMoYXJyKTtcbiAgICB9KVxufVxuXG5leHBvcnQge2FkZFRhc2ssIGFkZFByb2plY3R9OyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFsbFRhc2tzIiwiYXJyIiwidGFza0xpc3QiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb25zb2xlIiwibG9nIiwiaSIsImxlbmd0aCIsImlubmVySFRNTCIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiZWxlbWVudCIsIm5ld0RpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJuZXdCdG4iLCJuZXdUYXNrTmFtZSIsInRleHRDb250ZW50IiwidGl0bGUiLCJuZXdUYXNrRGF0ZSIsImR1ZURhdGUiLCJhcHBlbmRDaGlsZCIsInByaW9yaXR5Iiwic3R5bGUiLCJib3JkZXIiLCJrayIsInByb2plY3RJdGVtIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwciIsImRlc2NyaXB0aW9uIiwidGFza0lEIiwidGFzayIsInRoaXMiLCJpZCIsInByb2plY3QiLCJwcm9qZWN0VGFza3MiLCJ0YXNrcyIsInByb2plY3RzIiwic2V0TG9jYWxUYXNrcyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0TG9jYWxQcm9qZWN0cyIsInBhcnNlIiwiZ2V0SXRlbSIsInJlc3RvcmVMb2NhbFRhc2tzIiwiYXJyVCIsIm5ld0RpdlRleHQiLCJkZWxCdG4iLCJhbGxQcm9qZWN0cyIsInJlc3RvcmVMb2NhbFByb2plY3RzIiwiZHJvcERvd25CdG4iLCJkcm9wRG93biIsInRvZ2dsZSIsImRyb3BNZW51IiwiQWRkYnRuIiwibmV3TmFtZSIsIm5ld0Rlc2MiLCJuZXdTdWJtaXQiLCJwb3B1cCIsInJlbW92ZSIsIm5hbWVJbnB1dCIsInZhbHVlIiwiZGVzY0lucHV0IiwiZGF0ZUlucHV0IiwicHJpb3JpdHlJbnB1dCIsIm1ha2VUYXNrIiwicHVzaCIsInRhc2trIiwic2hvd1Rhc2tzIiwiYWRkVGFzayIsImFkZFByb2plY3RCdG4iLCJwcm9qZWN0TmFtZSIsImFkZFByb2plY3RQb3B1cCIsImNyZWF0ZUJ0biIsImNhbmNlbEJ0biIsIm1ha2VQcm9qZWN0Iiwic2hvd1Byb2plY3RzIiwiYWRkUHJvamVjdCIsImRhdGUiLCJEYXRlIiwiZGF5IiwiZ2V0RGF0ZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJ0b0xvY2FsZVN0cmluZyIsIm1pbmltdW1JbnRlZ2VyRGlnaXRzIiwidXNlR3JvdXBpbmciLCJmdWxsRGF0ZSIsImdldEZ1bGxZZWFyIiwidG9kYXlzVGFza3MiLCJldmVudCIsInRhcmdldCIsImNsYXNzTmFtZSIsImluZGV4IiwicGFyZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsInNwbGljZSIsInJlbW92ZVRhc2siLCJyZW1vdmVQcm9qZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==